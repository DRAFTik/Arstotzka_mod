# Allows you to create your own dynamic keys
# to be called in localization.
# defined_text -> this is it, we're defining the text
# text -> a discrete entry that can be picked to display in loc.
# trigger -> determines if a text entry will be picked or not.
# (The triggers need to be valid for the scope the key is called in
# (eg Root or From.From).)
# localization_key -> points to the localization key
# that'll be used if trigger passes

defined_text = {
	name = GetPopularityTooltipDesc
	text = {
		trigger = {
			has_government = totalist
		}
		localization_key = totalist_subtype_desc
	}
	text = {
		trigger = {
			has_government = syndicalist
		}
		localization_key = syndicalist_subtype_desc
	}
	text = {
		trigger = {
			has_government = radical_socialist
		}
		localization_key = radical_socialist_subtype_desc
	}
	text = {
		trigger = {
			has_government = social_democrat
		}
		localization_key = social_democrat_subtype_desc
	}
	text = {
		trigger = {
			has_government = social_liberal
		}
		localization_key = social_liberal_subtype_desc
	}
	text = {
		trigger = {
			has_government = market_liberal
		}
		localization_key = market_liberal_subtype_desc
	}
	text = {
		trigger = {
			has_government = social_conservative
		}
		localization_key = social_conservative_subtype_desc
	}
	text = {
		trigger = {
			has_government = authoritarian_democrat
		}
		localization_key = authoritarian_democrat_subtype_desc
	}
	text = {
		trigger = {
			has_government = paternal_autocrat
		}
		localization_key = paternal_autocrat_subtype_desc
	}
	text = {
		trigger = {
			has_government = national_populist
		}
		localization_key = national_populist_subtype_desc
	}
}

defined_text = {
	name = GetPopularityPPGain
	text = {
		trigger = {
			has_dynamic_modifier = { modifier = party_popularity_dynamic_modifier }
		}
		localization_key = gta_party_popularity_tooltip_long
	}
	text = {
		localization_key = empty
	}
}

defined_text = {
	name = GetPopularityPPGainValue
	text = {
		trigger = {
			has_dynamic_modifier = { modifier = party_popularity_dynamic_modifier }
		}
		localization_key = "[?party_popularity@ruling_party|2=+]"
	}
	text = {
		localization_key = empty
	}
}





defined_text = {
	name = GET_THERMAL_POWER_PLANT_OK
	text = {
		trigger = {
			check_variable = { thermal_power_plant_ok = thermal_power_plant_total }
		}
		localization_key = GET_THERMAL_POWER_PLANT_GREEN
	}
	text = {
		localization_key = GET_THERMAL_POWER_PLANT_RED
	}
}

defined_text = {
	name = GET_STEEL_MILL_OK
	text = {
		trigger = {
			check_variable = { steel_mill_ok = steel_mill_total }
		}
		localization_key = GET_STEEL_MILL_GREEN
	}
	text = {
		localization_key = GET_STEEL_MILL_RED
	}
}

defined_text = {
	name = GET_PROVISIONS_TEXT				# включая GET_PROVISIONS_FORMAT_TEXT
	text = {
		trigger = {
			check_variable = { provision_delta_var < 0 }
		}
		localization_key = GET_BAD_PROVISIONS_LOC
	}
	text = {
		trigger = {
			check_variable = { provision_delta_var > 0 }
		}
		localization_key = GET_GOOD_PROVISIONS_LOC
	}
	text = {
		localization_key = GET_NORMAL_PROVISIONS_LOC
	}
}

defined_text = {
	name = GET_PROVISIONS_FORMAT_TEXT
	text = {
		trigger = {
			check_variable = { var = provision_month_var value = 96 compare = greater_than_or_equals }
		}
		localization_key = GET_PROVISIONS_IN_YEARS_TEXT
	}
	text = {
		trigger = {
			check_variable = { var = provision_days_var value = 365 compare = greater_than_or_equals }
		}
		localization_key = GET_PROVISIONS_IN_MONTH_TEXT
	}
	text = {
		localization_key = GET_PROVISIONS_IN_DAYS_TEXT
	}
}

defined_text = {
	name = GET_CROP_LOC
	text = {
		trigger = {
			has_country_flag = crop_failure_flag
		}
		localization_key = GET_BAD_HARVEST_LOC
	}
	text = {
		trigger = {
			has_country_flag = record_harvest_flag
		}
		localization_key = GET_RECORD_HARVEST_LOC
	}
	text = {
		trigger = {
			has_country_flag = normal_harvest_flag
		}
		localization_key = GET_NORMAL_HARVEST_LOC
	}
}

defined_text = {
	name = GET_HUNGER_LOC
	text = {
		trigger = {
			has_variable = hunger_dyn_var
		}
		localization_key = GET_HUNGER_TEXT
	}
}

defined_text = {
	name = GET_PLUS_MIO_FUNDS
	text = {
		trigger = {
			NOT = { check_variable = { generic_building_organization_add_money = 0.0 } }
		}
		localization_key = GET_PLUS_MIO_FUNDS_TEXT
	}
	text = {
		localization_key = empty_text
	}
}